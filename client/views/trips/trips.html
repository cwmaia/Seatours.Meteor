<template name="trips">
	<div class="page-header">
		<h1>
			Edit Products/Trips & Prices
		</h1>
	</div><!-- /.page-header -->
	
	<ul class="listing" id="trips">
		<li id="new">
			<img src="/images/trip.png">

			<h3>Add Trip</h3>
		</li>
		
		{{#each trips}}
			<li id="{{_id}}">
				<img src="/images/{{name}}.jpg">

				<h3>{{name}}</h3>
			</li>	
		{{/each}}
	</ul>
</template>


<template name="editTrip">
	<div class="page-header">
		<h1>
			Products & Trips
		</h1>
	</div>

	<form id="productForm" name="productForm" novalidate>
		<div class="line-3">
			<div>
				<label class="required">Product name:</label>
				<input type="text" name="name" id="name" value="{{product.name}}" placeholder="Name" required>
			</div>

			<div>
				<label class="required">Boat:</label>
				<select name="boat" id="boat" required>
					<option value="">Select..</option>

					{{#each boats}}
						<option value="{{_id}}" {{#if _id product._id}} selected="true" {{/if}}>{{name}}</option>
					{{/each}}
				</select>
			</div>
		</div>
	</form>

	<fieldset id="tripField">
		<legend>Trips
			<span>&nbsp;&nbsp;</span>
			<i class='icon-anchor'/>
		</legend>

		<form id="tripForm" novalidate>
			<div class="line-3">
				<div>
					<label class="required">From:</label>
					<input type="text" name="from" id="from" placeholder="From" required>
				</div>

				<div>
					<label class="required">To:</label>
					<input type="text" name="to" id="to" placeholder="To" required>
				</div>
				
				<div>
					<div class="input-append bootstrap-timepicker">
						<label class="required">Hour:</label>
						<input type="text" name="hour" id="hour" class="input-small" required/>
						<span class="add-on">
							<i class="icon-time"></i>
						</span>
					</div>
				</div>
			</div>
		
			<input type="submit" id="addTrip" class='btn btn-info btn-small' value="Add Trip" />
		</form>


		<table class="table table-striped table-bordered trable-hover">
			<thead>
				<tr>
					<th>From</th>
					<th>To</th>
					<th>Hour</th>
					<th>Actions</th>
				</tr>
			</thead>
			
			<tbody>
				{{#each product.trips}}
					<tr>
						<td>{{from}}</td>
						<td>{{to}}</td>
						<td>{{hour}}</td>
						<td>
							<a href="#" class="removeTrip" id="{{this._id}}">Remove</a>
						</td>
					</tr>
				{{/each}}	
			</tbody>
		</table>
	</fieldset>

	<fieldset id="priceField">
		<legend>Prices<span>&nbsp;&nbsp;</span><i class='icon-money'/></legend>

		<form id="priceForm" novalidate>
			<div class="line-3">
					<div>
						<label class="required">Price:</label>
						<input type="text" name="price" id="price" placeholder="Price" required>
					</div>

					<div>
						<label class="required">Per unit:</label>
						<input type="number" name="unit" id="unit" placeholder="Per unit" required>
					</div>
			</div>

			<input type='submit' id="addPrice" class='btn btn-info btn-small' value="Add Price">
		</form>

		<table id="tablePrice" class="table table-striped table-bordered trable-hover">
			<thead>
				<tr>
					<th>Price</th>
					<th>Per Unit (ISK)</th>
					<th>Actions</th>
				</tr>
			</thead>
			
			<tbody>
				{{#each product.prices}}
					{{> price}}
				{{/each}}	
			</tbody>
		</table>
	</fieldset>

	<button id="saveProduct" class='btn btn-success btn-small' form="productForm">
		Save Trip
	</button>
</template>

<template name="price">
	<tr>
		<td>
			{{price}}
		</td>
		<td>
			{{unit}}
		</td>
		<td>
			<a href="#" class="removePrice" id="{{_id}}">Remove</a>
		</td>
	</tr>	
</template>